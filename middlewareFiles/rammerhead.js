!function(){var e,t,P=window["%hammerhead%"];if(!P)throw new Error("hammerhead not loaded yet");if(P.settings._settings.sessionId)console.warn("unexpected task.js to load before rammerhead.js. url shuffling cannot be used"),r();else{e=r,t=P.__proto__.start,P.__proto__.start=function(){t.apply(this,arguments),P.__proto__.start=t,e()};var i=new XMLHttpRequest,l=(location.pathname.slice(1).match(/^[a-z0-9]+/i)||[])[0];if(l){if(i.open("GET","/api/dictionary?id="+l,!1),i.send(),200!==i.status)console.warn(`received a non 200 status code while trying to fetch shuffleDict:
status: ${i.status}
response: `+i.responseText);else if(l=JSON.parse(i.responseText)){let a=(e,t)=>(e%t+t)%t,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~-",e="_rhs",n=(e,n)=>(e||"").replace(/^((?:[a-z0-9]+:\/\/[^/]+)?(?:\/[^/]+\/))([^]+)/i,function(e,t,r){return t+n(r)}),o=new class{constructor(e=function(){let e="";for(var t=s.split("");0<t.length;)e+=t.splice(Math.floor(Math.random()*t.length),1)[0];return e}()){this.dictionary=e}shuffle(t){if(window.rhDisableShuffling)return t;if(t.startsWith(e))return t;let r="";for(let e=0;e<t.length;e++){var n=t.charAt(e),o=s.indexOf(n);"%"===n&&3<=t.length-e?r=(r=(r+=n)+t.charAt(++e))+t.charAt(++e):r+=-1===o?n:this.dictionary.charAt(a(o+e,s.length))}return e+r}unshuffle(t){if(!t.startsWith(e))return t;t=t.slice(e.length);let r="";for(let e=0;e<t.length;e++){var n=t.charAt(e),o=this.dictionary.indexOf(n);"%"===n&&3<=t.length-e?r=(r=(r+=n)+t.charAt(++e))+t.charAt(++e):r+=-1===o?n:s.charAt(a(o-e,s.length))}return r}}(l),r=(location.href!==(i=n(location.href,e=>o.shuffle(e)))&&history.replaceState(null,null,i),P.utils.url.getProxyUrl),t=P.utils.url.parseProxyUrl;P.utils.url.overrideGetProxyUrl(function(e,t){return x?r(e,t):n(r(e,t),e=>o.shuffle(e))}),P.utils.url.overrideParseProxyUrl(function(e){return t(n(e,e=>o.unshuffle(e)))}),window.overrideGetProxyUrl(r=>function(e,t){return x?r(e,t):n(r(e,t),e=>o.shuffle(e))}),window.overrideParseProxyUrl(t=>function(e){return t(n(e,e=>o.unshuffle(e)))})}}else console.warn("cannot get session id from url")}function r(){{let r=location.port||("https:"===location.protocol?"443":"80"),n=P.utils.url.getProxyUrl;P.utils.url.overrideGetProxyUrl(function(e,t={}){return t.proxyPort||(t.proxyPort=r),n(e,t)}),window.overrideParseProxyUrl(t=>function(e){return(e=t(e))&&e.proxy&&(e.proxy.port||(e.proxy.port=r)),e})}var r,o,e,t,n,a={HTMLAnchorElement:["href"],HTMLAreaElement:["href"],HTMLBaseElement:["href"],HTMLEmbedElement:["src"],HTMLFormElement:["action"],HTMLFrameElement:["src"],HTMLIFrameElement:["src"],HTMLImageElement:["src"],HTMLInputElement:["src"],HTMLLinkElement:["href"],HTMLMediaElement:["src"],HTMLModElement:["cite"],HTMLObjectElement:["data"],HTMLQuoteElement:["cite"],HTMLScriptElement:["src"],HTMLSourceElement:["src"],HTMLTrackElement:["src"]};for(r in a)for(var s of a[r])if(window[r]){let e=Object.getOwnPropertyDescriptor(window[r].prototype,s),t=e.get;if(e.get=function(){return e=t.call(this),(P.utils.url.parseProxyUrl(e)||{}).destUrl||e;var e},"action"===s){let r=e.set;e.set=function(e){x=!0;try{var t=r.call(this,e)}catch(e){throw x=!1,e}return x=!1,t}}Object.defineProperty(window[r].prototype,s,e)}else console.warn("unexpected unsupported element class "+r);{let r=window.__get$(window,"location").host,n=e=>`rammerhead|storage-wrapper|${P.settings._settings.sessionId}|${e}|`,l=(e="",t=r)=>n(t)+e,c=(e="",t=r)=>e.startsWith(n(t))?e.slice(n(t).length):null,e=(e,a)=>{let s=["internal","clear","key","getItem","setItem","removeItem","length","addChangeEventListener","hasOwnProperty","propertyIsEnumerable","constructor","isPrototypeOf","toLocaleString","toString","valueOf"],i=[],o=e=>i.push(e);Object.defineProperty(window,e,{configurable:!0,writable:!0,value:new Proxy(window[e],{get(e,t,r){if(s.includes(t)&&"length"!==t)return Reflect.get(e,t,r);if("length"!==t)return"addChangeEventListener"===t?o:a[l(t)];{let e=0;for(var[n]of Object.entries(a))c(n)&&e++;return e}},set(e,t,r){if(!s.includes(t)){for(var n of i)try{var o=a[l(t)];r!==o&&n({key:t,value:r,oldValue:o})}catch(e){console.error(e)}a[l(t)]=r}return!0},deleteProperty(e,t){return delete a[l(t)],!0},has(e,t){return l(t)in a||t in e},ownKeys(){var e,t=[];for([e]of Object.entries(a))(e=c(e))&&!s.includes(e)&&t.push(e);return t},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(a,l(t))},defineProperty(e,t,r){return s.includes(t)||Object.defineProperty(a,l(t),r),!0}})})},t=(e,n)=>{Storage.prototype[e]=new Proxy(Storage.prototype[e],{apply(e,t,r){return n.apply(t,r)}})};e("localStorage",P.storages.localStorageProxy.internal.nativeStorage),e("sessionStorage",P.storages.sessionStorageProxy.internal.nativeStorage),t("clear",function(){for(var[e]of Object.entries(this))delete this[e]}),t("key",function(e){return(Object.entries(this)[e]||[])[0]||null}),t("getItem",function(e){return this.internal.nativeStorage[l(e,this.internal.nativeStorageKey.split("|")[3])]||null}),t("setItem",function(e,t){e&&(this.internal.nativeStorage[l(e,this.internal.nativeStorageKey.split("|")[3])]=t)}),t("removeItem",function(e){delete this.internal.nativeStorage[l(e,this.internal.nativeStorageKey.split("|")[3])]})}{let a=P.nativeMethods.fetch,s=P.settings._settings.sessionId,i=window.__get$(window,"location"),l=window.sessionStorage.internal.nativeStorage,e=i.hostname.match(/[a-z0-9-]+\.[a-z0-9-]+$/)?.[0],c="rh_needs_our_response|"+e;document.addEventListener("DOMContentLoaded",()=>{for(var e of document.head.querySelectorAll("script"))if(e.src.includes("/orchestrate/chl_page/v1")){console.log("cloudflare detected"),window.rhHookCloudflareDetected&&(window.rhHookCloudflareDetected(),delete window.rhHookCloudflareDetected),l[c]&&(delete l[c],a(`/api/cloudflare-bulldozer-response?sessionId=${s}&url=${encodeURIComponent(i.href)}&status=failed`));let e=setInterval(()=>{if(window.turnstile){clearInterval(e),window.turnstile._rh_render=window.turnstile.render;let r=!1;setTimeout(()=>{r||window.location.reload()},6e3),window.turnstile.render=async(e,o)=>{r=!0;var t={sitekey:o.sitekey,pageurl:i.href,data:o.cData,pagedata:o.chlPageData,action:o.action,userAgent:navigator.userAgent};if(200!==(await a("/api/cloudflare-bulldozer?sessionId="+s,{method:"POST",body:JSON.stringify(t)})).status)console.warn("cloudflare js challenge support not enabled"),window.turnstile._rh_render(e,o);else{let r=!0,n=setInterval(async()=>{var e,t=await(await a(`/api/cloudflare-bulldozer-status?sessionId=${s}&url=`+encodeURIComponent(i.href))).text();"reload"===t?(clearInterval(n),window.location.reload()):t.startsWith("token: ")?(l[c]=!0,o.callback(t.slice(7))):"wait"===t?r&&(r=!1,(e=document.createElement("div")).setAttribute("style","background-color: white; top: 0; left: 0; right: 0; bottom: 0; padding: 20px; position: fixed; color: black"),e.innerHTML='<h1 style="margin-bottom: 20px">Checking if the site connection is secure... but it\'s rammerhead</h1><p style="margin-bottom: 10px">Hello! You\'ve reached a cloudflare protected page. Kindly give us a min or two while we work with the border agents over at CloudFlare to let us through...</p><p style="margin-bottom: 10px">The page may refresh a couple of times, though if the whole process takes more than 10 minutes, please contact the one hosting this server and kindly ask them to check their warning/error logs.</p><p>Thank you for your patience!</p>',document.body.appendChild(e)):(console.error("Unknown response from js challenge solver endpoint: "+t),clearInterval(n))},2e3)}}}},1);return}l[c]&&(delete l[c],a(`/api/cloudflare-bulldozer-response?sessionId=${s}&url=${encodeURIComponent(i.href)}&status=success`)),delete window.rhHookCloudflareDetected})}if((o=P.processors.domProcessor.constructor).prototype._processTargetBlank=function(t,e,r){if(r.targetAttr){var n=o.getStoredAttrName(r.targetAttr);if(!this.adapter.hasAttr(t,n)){let e=this.adapter.getAttr(t,r.targetAttr);e=e&&e.replace(/\s/g,""),P.utils.dom.isElementInIframe(t)?"_top"===e&&(this.adapter.setAttr(t,r.targetAttr,"_parent"),this.adapter.setAttr(t,n,e)):"_top"===e&&(this.adapter.setAttr(t,r.targetAttr,"_self"),this.adapter.setAttr(t,n,e))}}},(e=P.processors.domProcessor).elementProcessorPatterns=e._createProcessorPatterns(e.adapter),delete window.overrideGetProxyUrl,delete window.overrideParseProxyUrl,delete window.overrideIsCrossDomainWindows,window.rammerheadStartListeners){for(var i of window.rammerheadStartListeners)try{i()}catch(e){console.error(e)}delete window.rammerheadStartListeners}if(window.rammerheadDisableLocalStorageImplementation)delete window.rammerheadDisableLocalStorageImplementation;else{var l="rammerhead_synctimestamp",c=!1,d=localStorage,u=d.internal.nativeStorage,p=P.settings._settings.sessionId,h=window.__get$(window,"location").origin,f=[];try{var m,c=!0,w=(t=u[l],n=parseInt(t),isNaN(n)?(t&&console.warn("invalid timestamp retrieved from storage: "+t),null):n);function g(e){if(!e||"object"!=typeof e)throw new TypeError("data must be an object");for(var t in d.clear(),e)d[t]=e[t]}w?(m=b({type:"sync",timestamp:w,data:d})).timestamp&&(y(m.timestamp),g(m.data)):(m=b({type:"sync",fetch:!0})).timestamp&&(y(m.timestamp),g(m.data)),c=!1}catch(e){if("server wants to disable localStorage syncing"!==e.message)throw e;return}d.addChangeEventListener(function(e){c||-1===f.indexOf(e.key)&&f.push(e.key)}),setInterval(function(){var e=S();e&&(b({type:"update",updateData:e},function(e){y(e.timestamp)}),f=[])},5e3),document.addEventListener("visibilitychange",function(){var e;"hidden"===document.visibilityState&&(e=S())&&P.nativeMethods.sendBeacon.call(window.navigator,v(),JSON.stringify({type:"update",updateData:e}))})}function y(e){if(!e)throw new TypeError("timestamp must be defined");if(isNaN(parseInt(e)))throw new TypeError("timestamp must be a number. received"+e);u[l]=e}function v(){return"/syncLocalStorage?sessionId="+encodeURIComponent(p)+"&origin="+encodeURIComponent(h)}function b(e,t){if(!e||"object"!=typeof e)throw new TypeError("data must be an object");var r=P.createNativeXHR();function n(){if(404===r.status)throw new Error("server wants to disable localStorage syncing");if(200!==r.status)throw new Error("server sent a non 200 code. got "+r.status+". Response: "+r.responseText)}if(r.open("POST",v(),!!t),r.setRequestHeader("content-type","application/json"),r.send(JSON.stringify(e)),!t)return n(),JSON.parse(r.responseText);r.onload=function(){n(),t(JSON.parse(r.responseText))}}function S(){if(!f.length)return null;for(var e={},t=0;t<f.length;t++)e[f[t]]=d[f[t]];return f=[],e}}var x=!1}();